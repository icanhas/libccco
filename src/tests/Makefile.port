libs=-lcsp ${platlibs} -lm
b=${bin}

all: clean $b/1$E $b/2$E $b/spawnexit$E $b/chanrecvp$E \
	$b/closedchan$E $b/openedchan$E

.c.$O:
	${CC} ${CFLAGS} ${inc} -c -o $@ $<

c=${CC} ${LDFLAGS} -o $@ $? ${libs}
$b/1$E: 1.$O
	$c
$b/2$E: 2.$O
	$c
$b/spawnexit$E: spawnexit.$O
	$c
$b/chanrecvp$E: chanrecvp.$O
	$c
$b/closedchan$E: closedchan.$O
	$c
$b/openedchan$E: openedchan.$O
	$c

clean:
	rm -f $b/1$E 1.$O \
		$b/2$E 2.$O \
		$b/spawnexit$E spawnexit.$O \
		$b/chanrecvp$E chanrecvp.$O \
		$b/closedchan$E closedchan.$O \
		$b/openedchan$E openedchan.$O
